{
  "run_id": "9d6cb3a2-9eec-4744-a1a0-c0748ae0d0e1",
  "timestamp": "2026-02-09T12:39:00.699808",
  "package_version": "0.1.0",
  "training_data_path": "/Users/alex/Documents/project-MLSubtype/data/MBmerged-z-scores_MLready_correction.csv",
  "training_data_hash": "32311d51283f3207a485d3c1975af6ed26e40be8ad23e5d1efa4ff37f10ce243",
  "training_data_size_bytes": 32542,
  "training_data_row_count": 94,
  "config": {
    "data_csv": "/Users/alex/Documents/project-MLSubtype/data/MBmerged-z-scores_MLready_correction.csv",
    "data_path": "/Users/alex/Documents/project-MLSubtype/data/MBmerged-z-scores_MLready_correction.csv",
    "label_col": "MOLECULAR",
    "pos_label": null,
    "feature_cols": null,
    "patient_col": null,
    "group_col": null,
    "outdir": "runs/mrs_mb_meta_sklearn_technical/project/runs/technical_validation/technical",
    "outer_folds": 3,
    "inner_splits": 3,
    "inner_repeats": 1,
    "random_state": 42,
    "smote_mode": "off",
    "smote_k_neighbors": 5,
    "max_iter": 10000,
    "backend": "sklearn",
    "device": "auto",
    "model_set": null,
    "torch_num_workers": 0,
    "torch_dtype": "float32",
    "require_torch_device": false,
    "tracker": null,
    "experiment_name": "MRS_MB_META_TECH/technical",
    "run_name": "technical-technical",
    "tracker_tags": null,
    "classes": null,
    "tasks_json": null,
    "tasks_only": false,
    "meta_C_grid": [
      0.01,
      0.1,
      1,
      10
    ],
    "calibrate_meta": true,
    "calibration_enabled": "true",
    "calibration_method": "sigmoid",
    "calibration_cv": 3,
    "calibration_bins": 10,
    "calibration_binning": "uniform",
    "calibration_isotonic_min_samples": 100,
    "calibration_policy_apply_to_modes": [
      "meta"
    ],
    "calibration_policy_force_keep": false,
    "calibration_policy_thresholds": {
      "underconfidence_gap": -0.1,
      "high_accuracy": 0.9,
      "near_perfect_accuracy": 0.97,
      "min_calibration_n": 200,
      "min_class_n": 25,
      "min_brier_improvement": 0.002,
      "max_log_loss_regression": 0.01,
      "max_ece_ovr_regression": 0.01
    },
    "stratification_level": "sample"
  },
  "task_type": "meta",
  "python_version": "3.11.10",
  "hostname": "imac.lan",
  "git_hash": "813b91f311739b7591817da6b390d18ff53653c6",
  "artifact_registry": {
    "probability_quality": {
      "final_variant": "uncalibrated",
      "folds": {
        "fold_1_none": {
          "uncalibrated": {
            "brier": 0.021759980993127426,
            "brier_recommended": 0.021759980993127426,
            "brier_binary": null,
            "brier_multiclass_sum": 0.0870399239725097,
            "brier_multiclass_mean": 0.021759980993127426,
            "log_loss": 0.24702901904195446,
            "ece": 0.19255289024163566,
            "ece_top1": 0.19255289024163566,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.10164484239344998,
            "mean_confidence_top1": 0.7994082806842413,
            "accuracy_top1": 0.96875,
            "confidence_gap_top1": -0.1693417193157587,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.08186487728876915,
            "ece_ovr__G4": 0.1020966420238163,
            "ece_ovr__SHH": 0.10107035173180196,
            "ece_ovr__WNT": 0.12154749852941246
          },
          "calibrated": {
            "brier": 0.02557462278604558,
            "brier_recommended": 0.02557462278604558,
            "brier_binary": null,
            "brier_multiclass_sum": 0.10229849114418232,
            "brier_multiclass_mean": 0.02557462278604558,
            "log_loss": 0.2819557643339716,
            "ece": 0.22079611640865676,
            "ece_top1": 0.22079611640865676,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.11507873442367755,
            "mean_confidence_top1": 0.7746987147936506,
            "accuracy_top1": 0.96875,
            "confidence_gap_top1": -0.1940512852063494,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.10426389220409372,
            "ece_ovr__G4": 0.13100960717007432,
            "ece_ovr__SHH": 0.12349741560638153,
            "ece_ovr__WNT": 0.10154402271416063
          },
          "final_variant": "uncalibrated",
          "calibration_decision": {
            "enabled_requested": "true",
            "enabled_final": false,
            "method_requested": "sigmoid",
            "method_used": "sigmoid",
            "decision": "disabled_by_metrics",
            "reasons": [
              "R4_failed_improvement: brier_recommended delta=+0.003815, required <= -0.002000",
              "R4_failed_improvement: log_loss delta=+0.034927, allowed <= 0.010000",
              "R4_failed_improvement: ece_ovr_macro delta=+0.013434, allowed <= 0.010000"
            ],
            "n_samples": 32,
            "min_class_n": 4,
            "metrics_compared": {
              "brier_recommended": {
                "uncal": 0.021759980993127426,
                "cal": 0.02557462278604558,
                "delta": 0.0038146417929181553
              },
              "log_loss": {
                "uncal": 0.24702901904195446,
                "cal": 0.2819557643339716,
                "delta": 0.03492674529201717
              },
              "ece_top1": {
                "uncal": 0.19255289024163566,
                "cal": 0.22079611640865676,
                "delta": 0.0282432261670211
              },
              "ece_ovr_macro": {
                "uncal": 0.10164484239344998,
                "cal": 0.11507873442367755,
                "delta": 0.013433892030227573
              }
            }
          }
        },
        "fold_2_none": {
          "uncalibrated": {
            "brier": 0.005913051270823545,
            "brier_recommended": 0.005913051270823545,
            "brier_binary": null,
            "brier_multiclass_sum": 0.02365220508329418,
            "brier_multiclass_mean": 0.005913051270823545,
            "log_loss": 0.09127869879995741,
            "ece": 0.08155417095589433,
            "ece_top1": 0.08155417095589433,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.040777085477947124,
            "mean_confidence_top1": 0.9184458290441057,
            "accuracy_top1": 1.0,
            "confidence_gap_top1": -0.08155417095589435,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.017418012078877918,
            "ece_ovr__G4": 0.04727049281379147,
            "ece_ovr__SHH": 0.04299189950362291,
            "ece_ovr__WNT": 0.05542793751549619
          },
          "calibrated": {
            "brier": 0.02163940360477559,
            "brier_recommended": 0.02163940360477559,
            "brier_binary": null,
            "brier_multiclass_sum": 0.08655761441910235,
            "brier_multiclass_mean": 0.02163940360477559,
            "log_loss": 0.26530028470713635,
            "ece": 0.227982898433025,
            "ece_top1": 0.227982898433025,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.11399144921651247,
            "mean_confidence_top1": 0.772017101566975,
            "accuracy_top1": 1.0,
            "confidence_gap_top1": -0.227982898433025,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.08713737756985815,
            "ece_ovr__G4": 0.1162193346846224,
            "ece_ovr__SHH": 0.13782435535113044,
            "ece_ovr__WNT": 0.11478472926043894
          },
          "final_variant": "uncalibrated",
          "calibration_decision": {
            "enabled_requested": "true",
            "enabled_final": false,
            "method_requested": "sigmoid",
            "method_used": "sigmoid",
            "decision": "disabled_by_metrics",
            "reasons": [
              "R4_failed_improvement: brier_recommended delta=+0.015726, required <= -0.002000",
              "R4_failed_improvement: log_loss delta=+0.174022, allowed <= 0.010000",
              "R4_failed_improvement: ece_ovr_macro delta=+0.073214, allowed <= 0.010000"
            ],
            "n_samples": 31,
            "min_class_n": 3,
            "metrics_compared": {
              "brier_recommended": {
                "uncal": 0.005913051270823545,
                "cal": 0.02163940360477559,
                "delta": 0.015726352333952046
              },
              "log_loss": {
                "uncal": 0.09127869879995741,
                "cal": 0.26530028470713635,
                "delta": 0.17402158590717892
              },
              "ece_top1": {
                "uncal": 0.08155417095589433,
                "cal": 0.227982898433025,
                "delta": 0.14642872747713065
              },
              "ece_ovr_macro": {
                "uncal": 0.040777085477947124,
                "cal": 0.11399144921651247,
                "delta": 0.07321436373856535
              }
            }
          }
        },
        "fold_3_none": {
          "uncalibrated": {
            "brier": 0.17358173932715992,
            "brier_recommended": 0.17358173932715992,
            "brier_binary": null,
            "brier_multiclass_sum": 0.6943269573086397,
            "brier_multiclass_mean": 0.17358173932715992,
            "log_loss": 1.2790445401020063,
            "ece": 0.7215050556584213,
            "ece_top1": 0.7215050556584213,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.08215095958698158,
            "mean_confidence_top1": 0.2784949443415786,
            "accuracy_top1": 1.0,
            "confidence_gap_top1": -0.7215050556584214,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.06850880712644145,
            "ece_ovr__G4": 0.13266825068676785,
            "ece_ovr__SHH": 0.009076469396215509,
            "ece_ovr__WNT": 0.11835031113850153
          },
          "calibrated": {
            "brier": 0.018299644448530387,
            "brier_recommended": 0.018299644448530387,
            "brier_binary": null,
            "brier_multiclass_sum": 0.07319857779412155,
            "brier_multiclass_mean": 0.018299644448530387,
            "log_loss": 0.22396968667047915,
            "ece": 0.1913815141707919,
            "ece_top1": 0.1913815141707919,
            "ece_binary_pos": null,
            "ece_ovr_macro": 0.09569075708539597,
            "mean_confidence_top1": 0.808618485829208,
            "accuracy_top1": 1.0,
            "confidence_gap_top1": -0.19138151417079197,
            "pred_alignment_mismatch_rate": 0.0,
            "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
            "ece_ovr__G3": 0.0665576530250164,
            "ece_ovr__G4": 0.09488439712639724,
            "ece_ovr__SHH": 0.11440362313802421,
            "ece_ovr__WNT": 0.106917355052146
          },
          "final_variant": "uncalibrated",
          "calibration_decision": {
            "enabled_requested": "true",
            "enabled_final": false,
            "method_requested": "sigmoid",
            "method_used": "sigmoid",
            "decision": "disabled_by_metrics",
            "reasons": [
              "R4_failed_improvement: ece_ovr_macro delta=+0.013540, allowed <= 0.010000"
            ],
            "n_samples": 31,
            "min_class_n": 4,
            "metrics_compared": {
              "brier_recommended": {
                "uncal": 0.17358173932715992,
                "cal": 0.018299644448530387,
                "delta": -0.15528209487862954
              },
              "log_loss": {
                "uncal": 1.2790445401020063,
                "cal": 0.22396968667047915,
                "delta": -1.055074853431527
              },
              "ece_top1": {
                "uncal": 0.7215050556584213,
                "cal": 0.1913815141707919,
                "delta": -0.5301235414876293
              },
              "ece_ovr_macro": {
                "uncal": 0.08215095958698158,
                "cal": 0.09569075708539597,
                "delta": 0.013539797498414385
              }
            }
          }
        }
      }
    }
  },
  "feature_list": [
    "Ala_conc",
    "Asp_conc",
    "Cit_conc",
    "GABA_conc",
    "GSH_conc",
    "Glc_conc",
    "Gln_conc",
    "Glu_conc",
    "Glx_conc",
    "Glx_conc.tCho_conc",
    "Glyc_conc",
    "Glyc_conc.tCho_conc",
    "Ins_conc",
    "Lac_conc",
    "LipMM09_conc",
    "LipMM13_conc",
    "LipMM20_conc",
    "PE_conc",
    "Scyllo_conc",
    "Tau_conc",
    "Tau_conc.tCho_conc",
    "tCho_conc",
    "tCr_conc",
    "tCr_conc.Glx_conc",
    "tCr_conc.tCho_conc",
    "tIns_conc",
    "tIns_conc.tCho_conc"
  ],
  "feature_summaries": {},
  "task_definitions": {
    "G3_vs_Rest": "<function TaskBuilder._make_ovr_fn.<locals>.labeler at 0x139f38e00>",
    "G4_vs_Rest": "<function TaskBuilder._make_ovr_fn.<locals>.labeler at 0x139f39300>",
    "SHH_vs_Rest": "<function TaskBuilder._make_ovr_fn.<locals>.labeler at 0x139f393a0>",
    "WNT_vs_Rest": "<function TaskBuilder._make_ovr_fn.<locals>.labeler at 0x139f391c0>",
    "G3_vs_G4": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f394e0>",
    "G3_vs_SHH": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f39440>",
    "G3_vs_WNT": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f39620>",
    "G4_vs_SHH": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f396c0>",
    "G4_vs_WNT": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f39760>",
    "SHH_vs_WNT": "<function TaskBuilder._make_pairwise_fn.<locals>.labeler at 0x139f39800>"
  },
  "best_models": {},
  "hierarchical": false,
  "l1_classes": null,
  "l2_classes_per_branch": null,
  "l3_classes_per_branch": null
}