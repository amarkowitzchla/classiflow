{
  "fold": 3,
  "variant": "none",
  "calibration_metadata": {
    "enabled": true,
    "enabled_requested": "true",
    "method_requested": "sigmoid",
    "method_used": "sigmoid",
    "cv": 3,
    "bins": 10,
    "binning": "quantile",
    "warnings": [],
    "enabled_candidate": true,
    "decision": "retained",
    "decision_reasons": [
      "R4_passed: calibration improved probability quality within guardrails."
    ],
    "final_variant": "calibrated"
  },
  "calibrated": {
    "brier": 0.02112248240445782,
    "brier_recommended": 0.02112248240445782,
    "brier_binary": null,
    "brier_multiclass_sum": 0.1056124120222891,
    "brier_multiclass_mean": 0.02112248240445782,
    "log_loss": 0.30797007048135155,
    "ece": 0.2525396545114211,
    "ece_top1": 0.2525396545114211,
    "ece_binary_pos": null,
    "ece_ovr_macro": 0.09751903173648216,
    "mean_confidence_top1": 0.7474603454885788,
    "accuracy_top1": 1.0,
    "confidence_gap_top1": -0.25253965451142124,
    "pred_alignment_mismatch_rate": 0.0,
    "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
    "ece_ovr__G3": 0.09381138922055832,
    "ece_ovr__G4": 0.1114593628381526,
    "ece_ovr__OTHER": 0.08010699428427344,
    "ece_ovr__SHH": 0.10040164882145573,
    "ece_ovr__WNT": 0.10181576351797064
  },
  "uncalibrated": {
    "brier": 0.14843985987988134,
    "brier_recommended": 0.14843985987988134,
    "brier_binary": null,
    "brier_multiclass_sum": 0.7421992993994068,
    "brier_multiclass_mean": 0.14843985987988134,
    "log_loss": 1.472545673461995,
    "ece": 0.7704438939351004,
    "ece_top1": 0.7704438939351004,
    "ece_binary_pos": null,
    "ece_ovr_macro": 0.3053274502294058,
    "mean_confidence_top1": 0.22955610606489965,
    "accuracy_top1": 1.0,
    "confidence_gap_top1": -0.7704438939351004,
    "pred_alignment_mismatch_rate": 0.0,
    "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
    "ece_ovr__G3": 0.3123737826768464,
    "ece_ovr__G4": 0.44298636491248944,
    "ece_ovr__OTHER": 0.25471245540007637,
    "ece_ovr__SHH": 0.2583279333357813,
    "ece_ovr__WNT": 0.2582367148218352
  },
  "overall": {
    "probability_quality": {
      "uncalibrated": {
        "brier": 0.14843985987988134,
        "brier_recommended": 0.14843985987988134,
        "brier_binary": null,
        "brier_multiclass_sum": 0.7421992993994068,
        "brier_multiclass_mean": 0.14843985987988134,
        "log_loss": 1.472545673461995,
        "ece": 0.7704438939351004,
        "ece_top1": 0.7704438939351004,
        "ece_binary_pos": null,
        "ece_ovr_macro": 0.3053274502294058,
        "mean_confidence_top1": 0.22955610606489965,
        "accuracy_top1": 1.0,
        "confidence_gap_top1": -0.7704438939351004,
        "pred_alignment_mismatch_rate": 0.0,
        "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
        "ece_ovr__G3": 0.3123737826768464,
        "ece_ovr__G4": 0.44298636491248944,
        "ece_ovr__OTHER": 0.25471245540007637,
        "ece_ovr__SHH": 0.2583279333357813,
        "ece_ovr__WNT": 0.2582367148218352
      },
      "calibrated": {
        "brier": 0.02112248240445782,
        "brier_recommended": 0.02112248240445782,
        "brier_binary": null,
        "brier_multiclass_sum": 0.1056124120222891,
        "brier_multiclass_mean": 0.02112248240445782,
        "log_loss": 0.30797007048135155,
        "ece": 0.2525396545114211,
        "ece_top1": 0.2525396545114211,
        "ece_binary_pos": null,
        "ece_ovr_macro": 0.09751903173648216,
        "mean_confidence_top1": 0.7474603454885788,
        "accuracy_top1": 1.0,
        "confidence_gap_top1": -0.25253965451142124,
        "pred_alignment_mismatch_rate": 0.0,
        "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
        "ece_ovr__G3": 0.09381138922055832,
        "ece_ovr__G4": 0.1114593628381526,
        "ece_ovr__OTHER": 0.08010699428427344,
        "ece_ovr__SHH": 0.10040164882145573,
        "ece_ovr__WNT": 0.10181576351797064
      },
      "final_variant": "calibrated",
      "calibration_decision": {
        "enabled_requested": "true",
        "enabled_final": true,
        "method_requested": "sigmoid",
        "method_used": "sigmoid",
        "decision": "retained",
        "reasons": [
          "R4_passed: calibration improved probability quality within guardrails."
        ],
        "n_samples": 28,
        "min_class_n": 3,
        "metrics_compared": {
          "brier_recommended": {
            "uncal": 0.14843985987988134,
            "cal": 0.02112248240445782,
            "delta": -0.12731737747542352
          },
          "log_loss": {
            "uncal": 1.472545673461995,
            "cal": 0.30797007048135155,
            "delta": -1.1645756029806436
          },
          "ece_top1": {
            "uncal": 0.7704438939351004,
            "cal": 0.2525396545114211,
            "delta": -0.5179042394236792
          },
          "ece_ovr_macro": {
            "uncal": 0.3053274502294058,
            "cal": 0.09751903173648216,
            "delta": -0.2078084184929236
          }
        }
      }
    }
  }
}