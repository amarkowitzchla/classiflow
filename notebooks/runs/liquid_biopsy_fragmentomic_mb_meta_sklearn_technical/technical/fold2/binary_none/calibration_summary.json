{
  "fold": 2,
  "variant": "none",
  "calibration_metadata": {
    "enabled": true,
    "enabled_requested": "true",
    "method_requested": "sigmoid",
    "method_used": "sigmoid",
    "cv": 3,
    "bins": 10,
    "binning": "quantile",
    "warnings": [],
    "enabled_candidate": true,
    "decision": "retained",
    "decision_reasons": [
      "R4_passed: calibration improved probability quality within guardrails."
    ],
    "final_variant": "calibrated"
  },
  "calibrated": {
    "brier": 0.025907478383863147,
    "brier_recommended": 0.025907478383863147,
    "brier_binary": null,
    "brier_multiclass_sum": 0.12953739191931574,
    "brier_multiclass_mean": 0.025907478383863147,
    "log_loss": 0.3460416081415348,
    "ece": 0.2741667513298465,
    "ece_top1": 0.2741667513298465,
    "ece_binary_pos": null,
    "ece_ovr_macro": 0.10000168800122644,
    "mean_confidence_top1": 0.7258332486701534,
    "accuracy_top1": 1.0,
    "confidence_gap_top1": -0.2741667513298466,
    "pred_alignment_mismatch_rate": 0.0,
    "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
    "ece_ovr__G3": 0.09543997737264205,
    "ece_ovr__G4": 0.10453144688520377,
    "ece_ovr__OTHER": 0.0792240897379877,
    "ece_ovr__SHH": 0.10428825790315038,
    "ece_ovr__WNT": 0.11652466810714823
  },
  "uncalibrated": {
    "brier": 0.14837848892646355,
    "brier_recommended": 0.14837848892646355,
    "brier_binary": null,
    "brier_multiclass_sum": 0.7418924446323177,
    "brier_multiclass_mean": 0.14837848892646355,
    "log_loss": 1.4721484268802598,
    "ece": 0.7702337990297058,
    "ece_top1": 0.7702337990297058,
    "ece_binary_pos": null,
    "ece_ovr_macro": 0.2966618072860031,
    "mean_confidence_top1": 0.22976620097029415,
    "accuracy_top1": 1.0,
    "confidence_gap_top1": -0.7702337990297059,
    "pred_alignment_mismatch_rate": 0.0,
    "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
    "ece_ovr__G3": 0.30355753468575253,
    "ece_ovr__G4": 0.44032739474436394,
    "ece_ovr__OTHER": 0.22332119067679176,
    "ece_ovr__SHH": 0.25758913685055407,
    "ece_ovr__WNT": 0.2585137794725535
  },
  "overall": {
    "probability_quality": {
      "uncalibrated": {
        "brier": 0.14837848892646355,
        "brier_recommended": 0.14837848892646355,
        "brier_binary": null,
        "brier_multiclass_sum": 0.7418924446323177,
        "brier_multiclass_mean": 0.14837848892646355,
        "log_loss": 1.4721484268802598,
        "ece": 0.7702337990297058,
        "ece_top1": 0.7702337990297058,
        "ece_binary_pos": null,
        "ece_ovr_macro": 0.2966618072860031,
        "mean_confidence_top1": 0.22976620097029415,
        "accuracy_top1": 1.0,
        "confidence_gap_top1": -0.7702337990297059,
        "pred_alignment_mismatch_rate": 0.0,
        "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
        "ece_ovr__G3": 0.30355753468575253,
        "ece_ovr__G4": 0.44032739474436394,
        "ece_ovr__OTHER": 0.22332119067679176,
        "ece_ovr__SHH": 0.25758913685055407,
        "ece_ovr__WNT": 0.2585137794725535
      },
      "calibrated": {
        "brier": 0.025907478383863147,
        "brier_recommended": 0.025907478383863147,
        "brier_binary": null,
        "brier_multiclass_sum": 0.12953739191931574,
        "brier_multiclass_mean": 0.025907478383863147,
        "log_loss": 0.3460416081415348,
        "ece": 0.2741667513298465,
        "ece_top1": 0.2741667513298465,
        "ece_binary_pos": null,
        "ece_ovr_macro": 0.10000168800122644,
        "mean_confidence_top1": 0.7258332486701534,
        "accuracy_top1": 1.0,
        "confidence_gap_top1": -0.2741667513298466,
        "pred_alignment_mismatch_rate": 0.0,
        "pred_alignment_note": "Using argmax(y_proba) for top1 ECE by definition; y_pred mismatch indicates postprocessing.",
        "ece_ovr__G3": 0.09543997737264205,
        "ece_ovr__G4": 0.10453144688520377,
        "ece_ovr__OTHER": 0.0792240897379877,
        "ece_ovr__SHH": 0.10428825790315038,
        "ece_ovr__WNT": 0.11652466810714823
      },
      "final_variant": "calibrated",
      "calibration_decision": {
        "enabled_requested": "true",
        "enabled_final": true,
        "method_requested": "sigmoid",
        "method_used": "sigmoid",
        "decision": "retained",
        "reasons": [
          "R4_passed: calibration improved probability quality within guardrails."
        ],
        "n_samples": 28,
        "min_class_n": 2,
        "metrics_compared": {
          "brier_recommended": {
            "uncal": 0.14837848892646355,
            "cal": 0.025907478383863147,
            "delta": -0.1224710105426004
          },
          "log_loss": {
            "uncal": 1.4721484268802598,
            "cal": 0.3460416081415348,
            "delta": -1.126106818738725
          },
          "ece_top1": {
            "uncal": 0.7702337990297058,
            "cal": 0.2741667513298465,
            "delta": -0.49606704769985926
          },
          "ece_ovr_macro": {
            "uncal": 0.2966618072860031,
            "cal": 0.10000168800122644,
            "delta": -0.19666011928477667
          }
        }
      }
    }
  }
}